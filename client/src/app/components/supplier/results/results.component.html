<div class="results-matrix" *ngIf="project && clients.length > 0">
  <div class="headings" id="table-headings">
    <span class="step-column"></span>
    <h6 class="client-column" *ngFor="let client of clients">
      {{ client.firstName + " " + client.lastName }}
    </h6>
  </div>

  <div
    class="suite"
    *ngFor="let suite of project.suites"
    (click)="collapse($event, suite)"
  >
    <div class="row">
      <p>
        <nb-icon
          [icon]="suite.collapsed ? 'arrow-right' : 'arrow-down'"
        ></nb-icon>
        <b>{{ suite.title }}</b>
      </p>
    </div>
    <span *ngIf="!suite.collapsed">
      <div
        class="case"
        *ngFor="let case of suite.cases"
        (click)="collapse($event, case)"
      >
        <span *ngIf="case.steps.length > 0">
          <div class="row">
            <p>
              <nb-icon
                [icon]="case.collapsed ? 'arrow-right' : 'arrow-down'"
              ></nb-icon
              ><b>{{ case.title }}</b>
            </p>
          </div>
          <span *ngIf="!case.collapsed">
            <div
              class="step row"
              *ngFor="let step of case.steps"
              (click)="collapse($event, {})"
            >
              <p class="step-column">{{ step.description }}</p>
              <div *ngFor="let client of clients" class="client-column">
                <app-step-status-chip
                  [status]="getClientFeedbackStatusForStep(client, step)"
                ></app-step-status-chip>
              </div>
            </div>
          </span>
        </span>
      </div>
    </span>
  </div>
</div>


<div class="center" *ngIf="clients.length === 0">
  <h4>Add a client to this project to start seeing results!</h4>
</div>

<div class="center" *ngIf="!project">
  <h4>Error finding project details</h4>
</div>